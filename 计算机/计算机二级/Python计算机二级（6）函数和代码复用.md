# Python计算机二级（六）函数和代码复用

## 函数的基本使用

### 定义函数

定义函数，使用def关键字。

语法：

```python
def 函数名(参数列表):
    函数体
    return 返回值列表
```

说明：

1.参数、返回值可以有多个，每个之间用逗号分隔。

2.函数体是函数需要执行的一段代码。

3.参数列表中的函数是形参，仅在函数内部有作用。

4.函数可以没有返回值，没有返回值时仅执行代码功能。返回值的作用是将函数运行的结果传递给主程序。

例：一个计算阶乘的函数

```python
def fact(n):
    s = 1
    for i in range(1, n + 1):
        s *= 1
    return s
```

### 函数的使用

函数的定义也叫“声明”。仅定义函数，函数不能运行，只有经过调用后函数才能运行。

语法：

```python
函数名(实参列表)
```

每一次使用函数都可以使用不同的实参值，只要与形参一一对应。

例如：

```python
def fact(n):
    s = 1
    for i in range(1, n + 1):
        s *= i
    return s


print(fact(4))
m = fact(5)
print(n)
print(fact(6))

# 输出
24
120
720
```

函数定义与函数调用（或主程序）应间隔两行

#### 函数使用的步骤

1.函数定义

2.函数调用

3.函数执行

4.函数返回

#### 函数式编程

大量使用函数进行编程的编程范式。把程序尽量写成一系列函数调用。使代码更简洁、更易于理解。

#### 函数的类型

函数的类型使用type()获取。

无返回值函数的类型：function

有返回值函数的类型：返回值的类型

python的最小函数：

```python
def f():
    pass
```

此函数没有任何功能，pass表示占位符，是一个空语句。

函数内部必须有一段代码，无具体内容一定使用pass占位。

## 函数的参数传递

### 可选参数传递

函数的参数定义时指定默认值，调入函数时，未指定的函数值使用默认值代替。

语法：

```pytohn
def 函数名(非可选参数，可选参数列表 = 默认值):
	函数体
	return 返回值列表
```

可选参数一般放在非可选的后面。可选参数在使用时可赋值，赋值时，可选参数可以只赋一部分，按顺序确定。

### 参数名称传递

参数可以通过名称来传递。传递时可以使用形参名来确定参数与值的对应关系。这种传递方式不需要按顺序排列。

语法;

```python
函数名(形参名 = 值)
```

形参名必须和定义对应，否则会报错。

### 函数的返回值

return语句用来结束函数并返回到调用函数的程序，并继续执行。

return语句可以出现在函数的任何部分，返回值可以没有或者有多个。

**函数没有return语句时，不返回任何值**

**返回多个值时，返回的是一个元组类型**

**函数存在多个结束条件，可使用多个return值。比如用于判断的函数，可以在每一个条件中都设置一个return语句**

## 变量的作用域

### 局部变量

指在函数内部定义的量。仅在函数内部有效。

例：

```python
def add(x, y):
    z = x + y
    return z


print(add(1, 2), z) # 这一句将报错NameError，原因是z只在函数内部定义而无法使用
```

### 全局变量

在函数外定义的变量，程序执行全过程有效。分为以下两种情况：

1.在主程序中定义，主程序中使用。这种情况下变量可以直接使用。

2.主程序中定义，函数中使用。这时必须在函数内部使用global关键字来声明，例如：

```python
n = 2
def addm(x, y):
    global n
    z = (x + y) * n
    return z
```

global声明时，变量名必须与全局变量相同。不使用global的声明，产生的是局部变量。

使用此种方法可以直接改变全局变量的值

## 代码复用

函数：程序的基本抽象方式

重复使用的代码应该封装成函数。否则大量重复的代码将明显降低程序的可读性和可维护性。因此应该将程序分割为多个程序块开书写

### 模块化设计

指函数的封装功能将程序划分为主程序、子程序和子程序间的关系的表达。每一个子程序是一个模块。

#### 模块化的要求

耦合性是模块间相互关联的程序，取决于模块间**接口的复杂程度**和**调用方式**。

**紧耦合**：尽可能合理划分功能块，功能块内部耦合紧密。一般存在复杂的相互调用，缺点是更新一个模块对其它模块有影响，维护难度大。

**松耦合**：模块间关系尽可能简单，功能块之间耦合度低。一般基于消息或协议，交互简单。

#### 模块化的优点

1.提高代码可读性：使得阅读代码更为轻松

2.提高代码可维护性：修改程序功能可通过修改一个模块实现大面积修改，降低成本

